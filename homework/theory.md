# Task 3. Theory questions

# Introduction

## 1. Приведите формулы для Performance, Power / Dynamic Power, назовите параметры в них входящие

```math
Performance = \frac{1}{Time} = \frac{1}{N_{instrs} * CPI * T_{cycle}} = \frac{1}{N_instrs} * ICP * f
```

Параметры:

$`N_{instrs}`$ количество инструкций в программе, зависит от алгоритмов программного обеспечения и архитектуры набора команд (ISA).

$CPI$ среднее количество тактов на инструкцию (Cycles Per Instruction), зависит от эффективности архитектуры процессора.

$T_{cycle}$ длительность одного тактового цикла, обратная величина частоты

$IPC$ количество инструкций за такт (Instructions Per Cycle), обратное к $CPI$

$f$ частота процессора (в герцах), зависит от качества схемотехники и транзисторов.

Общая потребляемая мощность процессора складывается из динамической и статической мощности:

```math
Power = Power_{dynamic} + Power_{static} = C \cdot V^2 \cdot f + I_{leak} V,
```

$С$ -- ёмкость (capacitance), зависит от физических характеристик транзисторов и проводников.

$V$ -- напряжение питания.

$f$ -- частота процессора.

$I_{leak}$ -- ток утечки, связанный с физическими ограничениями транзисторов (особенно важен в современных нанометровых техпроцессах).

$Power_{static}$ -- статическая мощность, обусловленная токами утечки, даже когда процессор не выполняет вычислений.

### 2. Объясните законы Мура (Moore’s law) и Деннарда (Dennard scaling).

Закон Мура: количество транзисторов на интегральной схеме удваивается примерно каждые 2 года.

Масштабирование Деннарда: при уменьшении размеров транзисторов (с каждой новой технологической нормой) плотность мощности остаётся постоянной. Это достигается за счёт пропорционального уменьшения напряжения V и тока, что позволяет сохранять энергопотребление на единицу площади неизменным. Как следствие, можно увеличивать частоту процессора без значительного роста тепловыделения.

## 3. Когда закончился Dennard scaling ? Чем знаменуется его окончание ?

Масштабирование Деннарда фактически завершилось около 2005 года. Это связано с физическими ограничениями: напряжение питания V не могло уменьшаться пропорционально размерам транзисторов из-за роста токов утечки $I_{leak}$ и ограничений на минимальное рабочее напряжение.

Вместо увеличения частоты процессоров (как это было ранее), производители начали развивать многопроцессорные архитектуры (многоядерные процессоры), улучшать параллелизм.

## 4. В чем заключается идея Bypassing / Data forwarding оптимизации?

Оптимизация bypassing (или data forwarding) заключается в устранении задержек в конвейере процессора, связанных с ожиданием записи данных в регистровый файл. Если результат одной инструкции (например, после стадии выполнения) нужен следующей инструкции, процессор передаёт этот результат напрямую, минуя стадию записи (writeback).

Пример:
```
1. mul x2, x1, x0
2. mul x3, x2, x4
```
После стадии выполнения инструкции `1` значение регистра `x2` уже известно. Вместо ожидания, пока `x2` будет записан в регистровый файл, процессор передаёт это значение напрямую на вход стадии выполнения инструкции `2`. Это уменьшает количество "зависимостей по данным" и снижает число остановок конвейера.

## 5. Что такое Instruction-Level Parallelism ? Приведите примеры оптимизаций для его повышения 

ILP — это способность процессора выполнять несколько инструкций одновременно за счёт независимости этих инструкций.

Примеры оптимизаций для повышения ILP:

Суперскалярная архитектура:
процессор имеет несколько исполнительных блоков (ALU, FPU, блоки загрузки/сохранения), что позволяет выполнять несколько инструкций за один такт.

VLIW (Very Long Instruction Word):
VLIW-архитектуры объединяют несколько операций в одно длинное инструкционное слово, которое выполняется параллельно.

Векторные процессоры:
Векторные CPU выполняют одну инструкцию на массиве данных (SIMD — Single Instruction, Multiple Data).
